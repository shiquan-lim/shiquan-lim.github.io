<!DOCTYPE html>
<html>
  <head>
  	<title>Metrics for Marksmen IS480 project</title>
    <!-- load c3 and d3 from local paths -->
    <link href="../../lib/c3-0.4.11/c3.min.css" rel="stylesheet" type="text/css">
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="../styles/chartpopup.js"></script>
    <script src="../../lib/c3-0.4.11/c3.min.js"></script>
    <script src="../render/metrics.js"></script>
    <script src="../styles/chartpopup.js"></script>
  	<script src="../../lib/jquery-2.2.3.js"></script>
  	<script src="../styles/bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>
  	<script src="../styles/bootbox.js"></script>
  	<script src="../data/metric_data.js"></script>
  	<link rel="stylesheet" type="text/css" href="../styles/bootstrap-3.3.6-dist/css/bootstrap.css">
  	<link rel="stylesheet" class="button" href="../styles/button.css"/>
</head>

<body>
<script type="text/javascript" src="../../lib/angular.min.js"></script>
<div class="container">
  <div class="jumbotron">
    <img class="img-responsive center-block" src="../../images/marksmen-logo.png"></br>
    <h2 class="text-center">Marksmen Project Metrics</h2>
    <p class="text-center">Select the metric to view and the sprint period</br>Currently only bug occurences (with test data) and relative workload charts are functional</p>
  </div>
<label for="metric">Select metric to view:</label>
<select id="metric" class="form-control">
  <option value="schedule">Schedule</option>
  <option value="bug">Bug</option>  
  <option value="relworkload">Relative Workload</option>
  <option value="workloadbreak">Workload Breakdown</option>
  <option value="interesting">Interesting</option>
</select>
<label for="period">Select period:</label>
<select id="period" class="form-control">
  <option value="all">All Sprints</option>
  <option value="1">Sprint 1</option>
  <option value="2">Sprint 2</option>
</select>
<a href="#chart" type="button" id="submit" class="button" onclick="captureInput();">Submit</a>
<!-- <a href="#" onclick="captureInput()">Submit</a> -->
</br>

<div class="text-center">
	<h3 id="message" class="text-muted">
	</h3>
</div>
</div>

</br>
<div id="chart" align="center"></div>
<script>
  // document.getElementById("submit").addEventListener("click", function(event){
  //     event.preventDefault()
  // });
	function captureInput(){
    var metric = document.getElementById('metric').value;
    var period = document.getElementById('period').value;
    //The alerts are just to test that the textarea input was entered correctly, as it sometimes behaves oddly
    //alert(dataString);

    //Convert input strings to JSON objects
    // var metric = format(metric);
    // var period = format(period);

    // alert(dataObject);
    chart=generateChart(metric, period);
    // message="You are now viewing a chart!";
    document.getElementById("message").innerHTML = "Viewing " + document.getElementById('metric').options[document.getElementById("metric").selectedIndex ].text.toLowerCase() + " metric for " + document.getElementById('period').options[document.getElementById("period").selectedIndex ].text.toLowerCase();
    return false;
  }
</script>

</body>
</html>